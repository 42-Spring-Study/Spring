# 03. HTTP기본



HTTP 통신 특징을 학습한다.

많은 사용자가 동시에 url요청할 때 응답속도, 서버자원 관점에서 여러 상황을 설명한다.

HTTP 문법, 메세지 등은 RFC7230~7235 문서를 참조하자.



## 1) HTTP

- 요청에 대한 응답으로 일정 형태의 데이터를 응답한다.

~~~
• HTML, TEXT
• IMAGE, 음성, 영상, 파일
• JSON, XML (API)
• 거의 모든 형태의 데이터 전송 가능
• 서버간에 데이터를 주고 받을 때도 대부분 HTTP 사용
~~~

##### 기반 프로토콜

~~~
• TCP: HTTP/1.1, HTTP/2
• UDP: HTTP/3
• 현재 HTTP/1.1 주로 사용
• HTTP/2, HTTP/3 도 점점 증가
~~~

![스크린샷 2024-03-27 오후 3.59.55](../img/seongtki_302.png)



##### HTTP 특징

~~~
• 클라이언트 서버 구조
• 무상태 프로토콜(스테이스리스), 비연결성
• HTTP 메시지
• 단순함, 확장 가능	
~~~





## 2) 클라이언트 서버 구조

~~~
• 서버가 클라이언트의 상태를 보존X
• 장점: 서버 확장성 높음(스케일 아웃)
• 단점: 클라이언트가 추가 데이터 전송
~~~

###### 

## 3) Stateful, Stateless



#### Stateful

- 여러 서버가 있을 경우, 최초~최종 요청서버가 같아야만 한다.

#### Stateless

- 요청마다 새로운 서버에 요청해도 된다.
- 수평확장에 유리함.
- 로그인 등 상태를 유지해야 하는 경우는 브라우저쿠키, 서버세션을 이용한다.



## 4) 비 연결성(connectionless)



##### TCP/IP 연결을 유지하는 모델

- 서버자원이 누적소모된다.

##### TCP/IP 연결을 유지하지 않는 모델

- HTTP는 기본설정
- 1시간 동안 수천명이 서비스를 사용해도 실제 서버에서 동시에 처리하는 요청은 수십개 이하로 매우 작음
- 서버 자원을 매우 효율적으로 사용할 수 있음



![스크린샷 2024-03-27 오후 3.54.32](/Users/staek/Library/Application Support/typora-user-images/스크린샷 2024-03-27 오후 3.54.32.png)

~~~
TCP/IP 연결을 새로 맺어야 함 - 3 way handshake 시간 추가
• 웹 브라우저로 사이트를 요청하면 HTML 뿐만 아니라 자바스크립트, css, 추가 이미지 등
등 수 많은 자원이 함께 다운로드
• 지금은 HTTP 지속 연결(Persistent Connections)로 문제 해결
• HTTP/2, HTTP/3에서 더 많은 최적화
~~~



